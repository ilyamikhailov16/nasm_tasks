     1                                  global _start
     2                                  
     3                                  section .data
     4 00000000 48656C6C6F20776F72-         message db "Hello world!", 10
     4 00000009 6C64210A           
     5                                      length  equ $ - message
     6                                  
     7                                  section .text
     8                                  _start:
     9 00000000 B801000000                  mov rax, 1 ; Вызов write
    10 00000005 BF01000000                  mov rdi, 1 ; файловый дескриптор stdout
    11 0000000A 48BE-                       mov rsi, message
    11 0000000C [0000000000000000] 
    12 00000014 BA0D000000                  mov rdx, length
    13 00000019 0F05                        syscall
    14                                      
    15                                      ; Проверка результата
    16                                      ; RAX содержит количество записанных байт или код ошибки (отрицательное число)
    17                                      ; cmp выполнит сравнение через вычитание rax - 0, но не сохранит результат, но обновит флаги во флаговом регистре
    18                                      ; jl проверяет SF и OF, если они не равны, то выполнится переход, т.к.
    19                                      ; для операции rax - 0 всегда OF = 0(не будет знакового переполнения), а SF принимает бит знака(Если rax < 0, то 1)
    20 0000001B 4883F800                    cmp rax, 0
    21 0000001F 7C12                        jl error_exit ; если RAX < 0, произошла ошибка
    22                                      
    23                                      ; Если записано не все, то тоже вернём ошибку
    24 00000021 4883F80D                    cmp rax, length
    25 00000025 750C                        jne error_exit ; Переход выполняется, если операнды не равны, результат не ноль(флаг нуля не установлен -> ZF = 0)
    26                                      
    27                                      ; Успешный выход
    28 00000027 B83C000000                  mov rax, 60
    29 0000002C BF00000000                  mov rdi, 0 ; код возврата 0 (успех)
    30 00000031 0F05                        syscall
    31                                  
    32                                  error_exit:    
    33 00000033 B83C000000                  mov rax, 60
    34 00000038 BF01000000                  mov rdi, 1 ; код возврата 1 (ошибка)
    35 0000003D 0F05                        syscall
